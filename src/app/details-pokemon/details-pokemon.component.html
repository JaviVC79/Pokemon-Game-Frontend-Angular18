<app-select-pokemon-player-buttons [pokemon]="pokemon" />

<div class="flex flex-col lg:flex-row justify-center items-center p-4 w-full gap-6">

  <!-- Tarjeta 3D Pokémon -->
  <div class="atropos card max-w-sm w-full">
    <div class="atropos-scale">
      <div class="atropos-rotate">
        <div class="atropos-inner">
          <div class="rounded-lg shadow-lg bg-white border-4 border-red-400 w-full h-[32rem]">
            <img *ngIf="!isReverse"
                 [src]="pokemon!.sprites!.other!.home.front_shiny"
                 [alt]="pokemon!.name"
                 class="w-full h-2/3 object-cover cursor-pointer"
                 (click)="clickReverse()" />
            <img *ngIf="isReverse"
                 [src]="pokemon!.sprites!.back_shiny"
                 [alt]="pokemon!.name"
                 class="w-full h-2/3 object-cover cursor-pointer"
                 (click)="clickReverse()" />

            <div class="flex flex-col justify-end items-center bg-red-400 cursor-pointer h-1/3"
                 (click)="clickBack()">
              <h3 class="text-white text-2xl font-bold m-2" *ngIf="pokemon?.name">
                {{ pokemon!.name!.toUpperCase() }}
              </h3>
              <p class="text-white text-lg font-bold" *ngIf="pokemon?.height">Height: {{ pokemon!.height }}</p>
              <p class="text-white text-lg font-bold" *ngIf="pokemon?.weight">Weight: {{ pokemon!.weight }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Panel de detalles -->
  <div class="flex flex-col justify-start items-center w-full max-w-3xl">
    <!-- Título del movimiento -->
    <h2 class="text-2xl font-bold m-4" *ngIf="pokemonDetail === 'moves'">
      {{ pokemonDetailMoveName?.toUpperCase() }}
    </h2>

    <!-- Descripción del movimiento -->
    <p *ngIf="pokemonDetail === 'moves'" class="max-w-xl h-48 overflow-auto p-2">
      {{ pokemonDetailMoveEffect }}
    </p>
    <p *ngIf="pokemonDetail !== 'moves'" class="max-w-xl h-48 overflow-auto p-2"></p>

    <!-- Pestañas -->
    <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 m-4 w-full max-w-xl text-center text-white text-sm">
      <h3 [ngClass]="{'pressed': pokemonDetail === 'moves', 'noPressed': pokemonDetail !== 'moves'}"
          (click)="handlepokemonsDetails('moves')">Moves</h3>
      <h3 [ngClass]="{'pressed': pokemonDetail === 'stats', 'noPressed': pokemonDetail !== 'stats'}"
          (click)="handlepokemonsDetails('stats')">Stats</h3>
      <h3 [ngClass]="{'pressed': pokemonDetail === 'types', 'noPressed': pokemonDetail !== 'types'}"
          (click)="handlepokemonsDetails('types')">Types</h3>
      <h3 [ngClass]="{'pressed': pokemonDetail === 'abilities', 'noPressed': pokemonDetail !== 'abilities'}"
          (click)="handlepokemonsDetails('abilities')">Abilities</h3>
    </div>

    <!-- Contenido de pestañas -->
    <ng-container [ngSwitch]="pokemonDetail">
      <ng-container *ngSwitchCase="'moves'">
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 w-full px-4 max-w-xl h-52 overflow-y-auto">
          <ul *ngFor="let move of pokemon!.moves"
              class="rounded bg-red-400 text-center text-white py-1 px-2 cursor-pointer"
              (click)="getAttacksEffects(move.move.url)">
            {{ move.move.name }}
          </ul>
        </div>
      </ng-container>
      <ng-container *ngSwitchCase="'stats'">
        <app-stats-pokemon [pokemon]="pokemon" />
      </ng-container>
      <ng-container *ngSwitchCase="'types'">
        <app-types-pokemon [pokemon]="pokemon" />
      </ng-container>
      <ng-container *ngSwitchCase="'abilities'">
        <app-abilities-pokemon [pokemon]="pokemon" />
      </ng-container>
    </ng-container>
  </div>
</div>
